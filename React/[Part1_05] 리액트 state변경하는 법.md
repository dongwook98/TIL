# 버튼에 기능개발을 해보자 & 리액트 state변경하는 법

버튼에 기능개발을 해보도록 하자.

버튼을 눌렀을 때 자바스크립트를 실행시키고 싶으면 어떻게 해야하는지,

그리고 state를 수정하려면 어떻게 해야하는지 알아보자.

<br>
<br>
<br>

# 터미널/브라우저 콘솔창에 warning이 뜨는 이유

개발하다보면 에러메세지는 터미널이나 브라우저 개발자도구에 뜬다고 했는데

간혹 노란색 warning 메세지가 등장하는 경우가 있다.

빨간 error는 해결해야하지만 warning은 무시해도 된다.

대부분 eslint라는 친구가 잘못된 코딩관습을 교정해주는건데

**"변수 만들었는데 안쓰고 있네요 지우는게 어때요"**

이런 식의 잔소리를 warning으로 띄워준다.

<br>

나와같은 입문자들은 이런거 지키는거 보다 코드짜보고 실행하는게 중요해서

/_eslint-disable_/

이라는 주석을 js 파일 최상단에 추가해주면 eslint 기능을 잠시 끌 수 있다.

<br>
<br>
<br>

# 좋아요 버튼 만들기

버튼을 누르면 좋아요 갯수가 1씩 증가하는 기능을 만들어보자.

그래서 일단 html 레이아웃이 필요할 것 같아서 이렇게 만들자.

```html
<h4>{ 글제목[0] } <span>👍</span> 0</h4>
```

여기서 이제 좋아요 갯수에 좀 주목하자.

지금은 0이라고 하드코딩 해놨는데, 이러면 안될것같다.

저번시간에

"자주 바뀔 것 같은 html 내용은 state로 저장했다가 데이터바인딩하세요"

라고 배웠던 기억이 나기 때문에 그렇게 해보도록 하자.

좋아요 갯수를 state로 만들어보자.

<br>

```js
function App() {
  let [따봉] = useState(0);
  return (
    <h4>
      {' '}
      {글제목[0]} <span>👍</span> {따봉}
    </h4>
  );
}
```

그냥 useState() 쓰고 왼쪽에 작명만 잘하면 stete 만들기 끝이다.

useState() 왼쪽에 작명은 2개 해야하지만 1개만 해도 된다.

<br>
<br>
<br>

# onClick 사용법

이제 버튼을 누르면 따봉이라는 state를 1 증가시키면 원하는 기능완성인데

그 전에 알아야할게 하나있다.

어떤 html을 클릭시 원하는 코드 실행하는 법을 알아보자.

<br>

```html
<div onclick="실행할 자바스크립트~~~"></div>
```

일반 html 파일에선 이렇게 하면 된다.

<br>
<br>

```html
<div onClick="{실행할함수}"></div>
```

JSX 에서는 이렇게 한다.

1. Click이 대문자인거

2. {} 중괄호 사용하는거

3. 그냥 코드가 아니라 함수를 넣어야 잘 작동한다는거

를 기억하자.

<br>
<br>
<br>

# onClick={} 안에 함수를 적는게 무슨소리인가

onClick={} 안에는 어디서 만든 함수명을 적거나 아니면 함수 하나를 바로 만들어서 집어넣어주면 된다.

```js
function App() {
  function 함수임() {
    console.log(1);
  }
  return <div onClick={함수임}> 안녕하세요 </div>;
}
```

그래서 이러면 `<div>`를 클릭시 함수안에 있던 자바스크립트가 실행된다.

이게 리액트에서 어떤 html 요소 클릭시 원하는 코드실행하는 법이다.

근데 함수 만드는게 귀찮으면

```js
<div onClick={ function(){ 실행할코드 } }>
<div onClick={ () => { 실행할코드 } }>
```

이렇게 함수를 그 자리에서 직접 만들어버려도 가능하다.

<br>

Q. 함수 만들 때 작명안해도 되나요?

A. 나중에 다시 안쓸거면 작명안해도 된다.

<br>
<br>
<br>

# ✨ (매우중요) state 변경하는법 ✨

아무튼 좋아요 버튼 누르면 따봉이라는 state를 +1 해주고 싶으면 어떻게 코드 짜야할까?

우리가 잘하는 자바스크립트 문법 써보자

```js
function App() {
  let [따봉] = useState(0);
  return (
    <h4>
      {' '}
      {글제목[0]} <span
        onClick={() => {
          따봉 = 따봉 + 1;
        }}
      >
        👍
      </span> {따봉}
    </h4>
  );
}
```

변수에 +1 해주고 싶으면 변수 = 변수 + 1 해주면 끝일까??

근데 안타깝게도 저건 변수가 아니라 state이다.

state는 **state변경함수를 써서 state를 변경해야한다.**

안그러면 html 재렌더링이 안된다.

<br>
<br>

```js
let [따봉, 따봉변경] = useState(0);
```

state만들 때 2개까지 작명할 수 있었다.

두번째 작명한건 state 변경을 도와주는 함수이다.

이걸 써야 state 변경이 가능하다.

<br>

사용법은

```js
따봉변경(새로운state);
```

이렇게 쓰면 된다.

왜냐면 state 변경함수는 () 안에 넣은걸로 state를 갈아치워주는 함수라 그렇다.

<br>

따봉변경(1) 이라고 사용하면 따봉이라는 state가 1로 변경된다.

따봉변경(100) 이라고 사용하면 따봉이라는 state가 100으로 변경된다.

**따봉변경(따봉 = 따봉 + 1) 이런거 안된다. 깔끔하게 새로운 state만 집어넣으면 된다.**

<br>
<br>
<br>

# 좋아요를 눌렀을 때 따봉이라는 state를 1 증가하려면

```js
function App() {
  let [따봉, 따봉변경] = useState(0);
  return (
    <h4>
      {' '}
      {글제목[0]} <span
        onClick={() => {
          따봉변경(따봉 + 1);
        }}
      >
        👍
      </span> {따봉}
    </h4>
  );
}
```

따봉이라는 기존 state에 1을 더한 값을 따봉변경 함수에 집어넣었다.

그럼 버튼을 누를 때 마다 그 값으로 대체된다.

<br>

<img src="https://user-images.githubusercontent.com/119502777/217433730-ee91a467-5c76-4a9b-bc93-9583c7dd9e09.gif" width="250">

<br>
<br>
<br>

# 오늘 배운 내용 정리

1. 클릭시 뭔가 실행하고 싶으면 onClick={함수} 이렇게 이벤트 핸들러를 달아서 사용하자.

2. state를 변경하려면 state 변경함수를 꼭 이용하자.

state변경함수는 () 안에 입력한걸로 기존 state를 갈아치워준다.

중요하니 외우도록 하자

<br>
<br>
<br>

# 오늘의 숙제 :

버튼을 누르면 첫 글 제목이 '여자 코트 추천'으로 바뀌는 기능의 버튼을 만들어봅시다.

<br>

## ✍️ 풀이

1. 버튼 만들기

```html
<button>첫 글 변경</button>
```

2. 버튼에 이벤트 리스너 달기

```js
<button
  onClick={글제목이 '여자코트 추천'으로 바뀌는 함수 넣기}
>
  첫 글 변경
</button>
```

3.글제목이 state 이므로 state 변경함수 이용해 변경

```js
function App() {
  let [글제목, 글제목변경] = useState([
    '리액트를 쓰는 이유',
    '자바스크립트의 역사',
    '프론트엔드란?',
  ]);
  let [따봉, 따봉변경] = useState(0);

  return (

        ...생략

      <button
         onClick={() => {
          글제목변경(['여자코트 추천', '자바스크립트의 역사', '프론트엔드란?']);
        }}
      >
        첫 글 변경
      </button>
  )

      ...생략
}
```
